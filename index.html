<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>40x20 Futsal</title>

<style>
*{box-sizing:border-box;font-family:system-ui,-apple-system,sans-serif}
body{margin:0;background:#f1f3f6;color:#111}
header{background:#071b33;padding:26px 20px;text-align:center}
header img{width:140px}
header p{margin-top:10px;color:#dbe4f0;font-style:italic}
.container{padding:20px}
.view{display:none}
.btn{background:#fff;border-radius:16px;padding:18px;margin-bottom:14px;font-size:16px;font-weight:600;box-shadow:0 8px 20px rgba(0,0,0,.08);cursor:pointer}
.btn-dark{background:#071b33;color:#fff}
h3{margin:18px 0 12px}
input,select{width:100%;padding:12px;border-radius:12px;border:1px solid #ccc;margin-bottom:10px}
.card{background:#fff;padding:14px;border-radius:14px;margin-bottom:10px}
table{width:100%;border-collapse:collapse}
th,td{padding:8px;text-align:center;font-size:14px}
th{background:#e7eef8}
</style>
</head>

<body>

<header>
<img src="IMG_3936.png">
<p>Futsal: la pasión que nos une</p>
</header>

<div class="container">

<div id="home">
<div class="btn btn-dark" onclick="go('torneos')">TORNEOS</div>
<div class="btn" onclick="go('login')">PANEL ADMIN</div>
</div>

<div id="torneos" class="view">
<div class="btn btn-dark" onclick="back()">← Volver</div>
<div class="btn" onclick="selectTorneo('LPF')">LPF</div>
<div class="btn" onclick="selectTorneo('LAAMBA')">LAAMBA</div>
<div class="btn" onclick="selectTorneo('APOFUSA')">A.Po.Fu.Sa</div>
</div>

<div id="menu" class="view">
<div class="btn btn-dark" onclick="back()">← Volver</div>
<div class="btn" onclick="openSection('fixture')">Fixture</div>
<div class="btn" onclick="openSection('posiciones')">Tabla de posiciones</div>
<div class="btn" onclick="openSection('goleadores')">Goleadores</div>
</div>

<div id="fixture" class="view">
<div class="btn btn-dark" onclick="back()">← Volver</div>
<h3 id="fixtureTitle"></h3>
<div id="fixtureList"></div>
</div>

<div id="posiciones" class="view">
<div class="btn btn-dark" onclick="back()">← Volver</div>
<h3>Tabla de posiciones</h3>
<div id="tablaPosiciones"></div>
</div>

<div id="goleadores" class="view">
<div class="btn btn-dark" onclick="back()">← Volver</div>
<h3>Goleadores</h3>
<div id="tablaGoleadores"></div>
</div>

<div id="login" class="view">
<div class="btn btn-dark" onclick="back()">← Volver</div>
<input type="password" id="pass" placeholder="Contraseña admin">
<div class="btn btn-dark" onclick="login()">Ingresar</div>
</div>

<div id="admin" class="view">
<div class="btn btn-dark" onclick="back()">← Volver</div>

<h3>Torneo</h3>
<select id="adminTorneo" onchange="setAdminTorneo()">
<option value="">Seleccionar torneo</option>
<option value="LPF">LPF</option>
<option value="LAAMBA">LAAMBA</option>
<option value="APOFUSA">A.Po.Fu.Sa</option>
</select>

<div id="adminPanel" style="display:none">

<h3>Equipos</h3>
<input id="teamName" placeholder="Nombre del equipo">
<input id="teamLogo" placeholder="URL del escudo">
<div class="btn" onclick="addTeam()">Agregar equipo</div>
<div id="teamsList"></div>

<h3>Partido + Goleadores</h3>
<input id="fecha" placeholder="Fecha">
<select id="local"></select>
<select id="visitante"></select>
<input id="gL" type="number" placeholder="Goles local">
<input id="gV" type="number" placeholder="Goles visitante">
<input id="jugador" placeholder="Goleador">
<select id="equipoGol"></select>
<input id="golesJugador" type="number" placeholder="Goles">
<div class="btn" onclick="addMatch()">Guardar partido</div>

<div id="adminFixture"></div>
</div>
</div>

</div>

<script>
let history=['home']
let torneoActual=''
const PASS='admin123'

const data=JSON.parse(localStorage.getItem('data')) || {
teams:{LPF:[],LAAMBA:[],APOFUSA:[]},
fixture:{LPF:[],LAAMBA:[],APOFUSA:[]},
goleadores:{LPF:[],LAAMBA:[],APOFUSA:[]}
}

function save(){localStorage.setItem('data',JSON.stringify(data))}
function go(id){document.querySelectorAll('#home,.view').forEach(v=>v.style.display='none');document.getElementById(id).style.display='block';history.push(id)}
function back(){history.pop();let l=history[history.length-1];document.querySelectorAll('#home,.view').forEach(v=>v.style.display='none');document.getElementById(l).style.display='block'}

function login(){
if(pass.value===PASS){go('admin')}
else alert('Contraseña incorrecta')
}

function setAdminTorneo(){
torneoActual=adminTorneo.value
document.getElementById('adminPanel').style.display='block'
renderTeams();renderSelects();renderAdminFixture()
}

/* resto igual que antes */
</script>

</body>
</html>
