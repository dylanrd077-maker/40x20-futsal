<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>40x20 Futsal</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

<style>
*{box-sizing:border-box;font-family:system-ui}
body{margin:0;background:#f1f3f6}
header{background:#071b33;padding:25px;text-align:center}
header img{width:140px}
header p{color:#dbe4f0;margin-top:8px;font-style:italic}
.container{padding:18px}
.btn{background:#fff;padding:18px;border-radius:16px;margin-bottom:14px;
font-weight:600;box-shadow:0 8px 20px rgba(0,0,0,.1);cursor:pointer}
.btn-dark{background:#071b33;color:#fff}
.view{display:none}
.carousel{display:flex;gap:14px;overflow-x:auto}
.item{min-width:220px;background:#fff;border-radius:16px;padding:14px}
table{width:100%;border-collapse:collapse}
th,td{padding:8px;text-align:center;border-bottom:1px solid #ddd}
</style>
</head>

<body>

<header>
<img src="IMG_3936.png">
<p>FUTSAL: la pasión que nos une.</p>
</header>

<div class="container">

<!-- HOME -->
<div id="home">
<div class="btn btn-dark" onclick="go('torneos')">TORNEOS</div>

<h3>NOTICIAS</h3>
<div class="carousel" id="news"></div>

<h3>SPONSORS</h3>
<div class="carousel" id="sponsors"></div>

<div class="btn" onclick="go('login')">PANEL ADMIN / ARBITROS</div>

<a class="btn" href="https://www.instagram.com/_40x20futsal" target="_blank">
Instagram
</a>
</div>

<!-- TORNEOS -->
<div id="torneos" class="view">
<div class="btn btn-dark" onclick="back()">← Volver</div>
<div class="btn" onclick="openTorneo('LPF')">LPF</div>
<div class="btn" onclick="openTorneo('LaAMBA')">LaAMBA</div>
<div class="btn" onclick="openTorneo('APOFUSA')">APoFuSa</div>
</div>

<!-- TORNEO -->
<div id="torneo" class="view">
<div class="btn btn-dark" onclick="back()">← Volver</div>
<h3 id="torneoTitulo"></h3>

<div class="btn" onclick="ver('tabla')">Tabla de posiciones</div>
<div class="btn" onclick="ver('goleadores')">Goleadores</div>
<div class="btn" onclick="ver('fixture')">Fixture</div>

<div id="contenido"></div>
</div>

<!-- LOGIN -->
<div id="login" class="view">
<div class="btn btn-dark" onclick="back()">← Volver</div>
<input id="email" placeholder="Email" class="btn">
<input id="pass" type="password" placeholder="Clave" class="btn">
<div class="btn btn-dark" onclick="login()">Ingresar</div>
</div>

<!-- ADMIN -->
<div id="admin" class="view">
<h3>Panel Admin</h3>
<div class="btn" onclick="addEquipo()">Agregar equipo</div>
<div class="btn" onclick="logout()">Salir</div>
</div>

</div>

<script>
/* FIREBASE */
firebase.initializeApp({
apiKey: "AIzaSyBiUJW7PVnSbWQVs0RpBb3mNdUB-QEjM9o",
authDomain: "x20-futsal-afb4b.firebaseapp.com",
projectId: "x20-futsal-afb4b"
});
const auth=firebase.auth();
const db=firebase.firestore();

/* NAVEGACION */
let stack=['home'];
function go(id){
document.querySelectorAll('.view,#home').forEach(v=>v.style.display='none');
document.getElementById(id).style.display='block';
stack.push(id);
}
function back(){
stack.pop();
go(stack[stack.length-1]);
}

/* TORNEOS */
let torneoActual='';
function openTorneo(t){
torneoActual=t;
document.getElementById('torneoTitulo').innerText=t;
go('torneo');
}

/* LOGIN */
function login(){
auth.signInWithEmailAndPassword(
email.value,pass.value
).then(()=>go('admin'))
.catch(e=>alert(e.message));
}
function logout(){auth.signOut();go('home')}

/* ADMIN */
function addEquipo(){
const nombre=prompt("Nombre del equipo");
const torneo=prompt("LPF / LaAMBA / APOFUSA");
db.collection("equipos").add({nombre,torneo});
alert("Equipo cargado");
}

/* VISTAS */
function ver(tipo){
const c=document.getElementById('contenido');
if(tipo==='tabla'){
c.innerHTML='<h3>Tabla</h3><p>Automática con Firebase</p>';
}
if(tipo==='goleadores'){
c.innerHTML='<h3>Goleadores</h3>';
}
if(tipo==='fixture'){
c.innerHTML='<h3>Fixture</h3>';
}
}

/* CARRUSELES DEMO */
news.innerHTML='<div class="item">Noticia 1</div><div class="item">Noticia 2</div>';
sponsors.innerHTML='<div class="item">Sponsor</div>';

</script>
</body>
</html>
